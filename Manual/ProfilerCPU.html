<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: CPU Usage Profiler module</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1576442311"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1576442311"></script><script type="text/javascript" src="docdata/toc.js?ts=1576442311"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1576442311"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1576442311">
<link rel="stylesheet" href="../StaticFilesManual/js/feedback/five-star-rating-master/css/rating.min.css">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="../StaticFilesManual/js/feedback/five-star-rating-master/js/src/rating.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="UnityOverview" data-pagetype="normal"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.2</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ProfilerCPU.html">English</a></li>
<li><a href="/ja/current/Manual/ProfilerCPU.html">日本語</a></li>
<li><a href="/es/current/Manual/ProfilerCPU.html">Español</a></li>
<li><a href="/kr/current/Manual/ProfilerCPU.html">한국어</a></li>
<li><a href="/ru/current/Manual/ProfilerCPU.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ProfilerCPU.html">English</a></li>
<li><a href="/ja/current/Manual/ProfilerCPU.html">日本語</a></li>
<li><a href="/es/current/Manual/ProfilerCPU.html">Español</a></li>
<li><a href="/kr/current/Manual/ProfilerCPU.html">한국어</a></li>
<li><a href="/ru/current/Manual/ProfilerCPU.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block">
<div class="darkCover"></div>
<div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.2)</a></li>
<li><a href="UnityOverview.html">Working in Unity</a></li>
<li><a href="AdvancedDevelopment.html">Advanced Development</a></li>
<li><a href="Profiler.html">Profiler overview</a></li>
<li>CPU Usage Profiler module</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="profiler-profiling-applications.html"></a></span><div class="tip">Profiling your application</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerRendering.html"></a></span><div class="tip">Rendering Profiler</div>
</div>
</div></div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>CPU Usage Profiler module</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>The CPU Usage <span class="tooltip"><strong>Profiler</strong><span class="tooltiptext">A window that helps you to optimize your game. It shows how much time is spent in the various areas of your game. For example, it can report the percentage of time spent rendering, animating or in your game logic. <a href="Profiler.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Profiler">Glossary</a></span></span></span> module’s chart displays where time is spent in your application. It contains an overview of all the important areas where your application spends time, such as on <span class="tooltip"><strong>rendering</strong><span class="tooltiptext">The process of drawing graphics to the screen (or to a render texture). By default, the main camera in Unity renders its view to the screen. <a href="GraphicsOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Rendering">Glossary</a></span></span></span>, its <span class="tooltip"><strong>scripts</strong><span class="tooltiptext">A piece of code that allows you to create your own Components, trigger game events, modify Component properties over time and respond to user input in any way you like. <a href="CreatingAndUsingScripts.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scripts">Glossary</a></span></span></span>, and animation. This section of the documentation covers:</p>

<ul>
<li><a href="#charts">CPU Usage charts</a></li>
<li><a href="#details-pane">CPU Usage module details pane</a></li>
<li><a href="#timeline">Timeline view</a></li>
<li>
<a href="#hierarchy">Hierarchy and Raw Hierarchy view</a>

<ul>
<li><a href="#samples">Common samples</a></li>
</ul>
</li>
<li><a href="#warnings">Performance warnings</a></li>
<li><a href="#allocation-callstacks">Allocation Callstacks</a></li>
<li><a href="#editor-only">Editor only samples</a></li>
</ul>

<p><a name="charts"></a></p>

<h2>Chart categories</h2>

<p>The CPU Usage Profiler module’s chart tracks the time spent on the application’s main thread. The timings are divided into nine categories,. You can change the order of the categories in the chart by dragging and dropping them in the chart’s legend. You can also click a category’s colored legend to toggle its display.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Category</strong></th>
	<th style="text-align:left;"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Rendering</strong></td>
	<td style="text-align:left;">How much time your application spends on rendering graphics.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Scripts</strong></td>
	<td style="text-align:left;">How much time your application spends on running scripts.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Physics</strong></td>
	<td style="text-align:left;">How much time your application spends on the <span class="tooltip"><strong>physics engine</strong><span class="tooltiptext">A system that simulates aspects of physical systems so that objects can accelerate correctly and be affected by collisions, gravity and other forces. <a href="PhysicsSection.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#PhysicsEngine">Glossary</a></span></span></span>.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Animation</strong></td>
	<td style="text-align:left;">How much time your application spends on animating SkinnedMeshRenderers, <span class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#GameObject">Glossary</a></span></span></span> and other components in your application. This also includes the time spent on some calculations for systems the Animation and <span class="tooltip"><strong>Animator components</strong><span class="tooltiptext">A component on a model that animates that model using the Animation system. The component has a reference to an Animator Controller asset that controls the animation. <a href="class-AnimatorController.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#AnimatorComponent">Glossary</a></span></span></span> utilize.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GarbageCollector</strong></td>
	<td style="text-align:left;">How much time your application spends on running the Garbage Collector.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong><span class="tooltip"><strong>VSync</strong><span class="tooltiptext">Vertical synchronization (VSync) is a display setting that caps a game’s frame rate to match the refresh rate of a monitor, to prevent image tearing. <a href="https://en.wikipedia.org/wiki/Screen_tearing#V-sync">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#VSync">Glossary</a></span></span></span></strong></td>
	<td style="text-align:left;">How much time is spent in a frame waiting for the <a href="../ScriptReference/Application-targetFrameRate.html">targetFrameRate</a> or the next VBlank to sync with. This is according to the <a href="../ScriptReference/QualitySettings-vSyncCount.html">QualitySettings.vSyncCount</a> value, or the target framerate, or the VSync setting that is the default or enforced maximum of the platform your application is running on. For more information about VSync, see the section in this documentation on <a href="#samples">Rendering and VSync samples</a>.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Global Illumination</strong></td>
	<td style="text-align:left;">How much time is spent on lighting in your application.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong><span class="tooltip"><strong>UI</strong><span class="tooltiptext">(User Interface) Allows a user to interact with your application. <a href="UISystem.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#UI">Glossary</a></span></span></span></strong></td>
	<td style="text-align:left;">How much time is spent on displaying your application’s <strong>UI</strong>.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Others</strong></td>
	<td style="text-align:left;">How much time is spent in code that does not fall in any of the other categories, for instance the entire EditorLoop, or the Profiling overhead when profiling Playmode in the Editor.</td>
</tr>
</tbody>
</table>

<p><a name="details-pane"></a></p>

<h2>Module details pane</h2>

<p>When you select the CPU Usage module, the module details pane displays a breakdown of where time was spent in the selected frame. The timing data is either displayed as a timeline or a hierarchical table, which you can change by clicking on the top left dropdown in the module details pane. The three views available are:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>View</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><span class="tooltip"><strong>Timeline</strong><span class="tooltiptext">Generic term within Unity that refers to all features, windows, editors, and components related to creating, modifying, or reusing cut-scenes, cinematics, and game-play sequences. <a href="TimelineSection.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Timeline">Glossary</a></span></span></span></td>
	<td style="text-align:left;">Displays a breakdown of the timings for a particular frame alongside a time axis of the frame’s length. This is the only view mode that you can use to see timings on threads other than the main thread, and correlate timings across threads, for instance <a href="JobSystem.html">Job System</a> worker threads spinning up after a system on the main thread schedules them.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Hierarchy</strong></td>
	<td style="text-align:left;">Groups the timing data by its hierarchical structure. This option displays the elements that your application called in a descending list format, ordered by the time spent (default), the amount of scripting memory allocated (GC.Alloc) or the number of calls. To change the column that orders the table, click on the table column’s header.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Raw Hierarchy</strong></td>
	<td style="text-align:left;">Displays the timing data in a hierarchical structure that is similar to the call stacks where the timing occurred. Unity lists each call stack separately in this mode instead of merging them, as it does in Hierarchy view.</td>
</tr>
</tbody>
</table>

<p><a name="timeline"></a></p>

<h2>Timeline view</h2>

<figure>
<img src="../uploads/Main/profiler-cpu-timeline-view.png" alt="CPU Usage Profiler module with the Timeline view">
<figcaption>CPU Usage Profiler module with the Timeline view</figcaption>
</figure>

<p>The Timeline view is the default view for the CPU Usage Profiler module. It contains an overview of where time is spent in your application and how the timings relate to each other. The Timeline view displays profiling data from all threads in their own own subsections and along the same time axis. This is unlike the Hierarchy views, which only show profiling data from the main thread. </p>

<p>You can use the Timeline view to see how activities on the different threads correlate to each other in their parallel execution. You can see how much or little you are utilizing the different threads, such as the <a href="JobSystem.html">Job System’s</a> worker threads, how work on the threads are queued up, and if any thread is idling (“Idle” sample) or waiting for another thread or a Job to finish (“Wait for x” sample). </p>

<p>In the screenshot above, there are light blue animation samples in the worker threads of the Job System while the main thread also processes animation data. The rendering work is split between the Main Thread and the Render Thread. The Render Thread does not align with the Main Thread. During the first ~0.4 ms of this particular frame, the Render Thread was still rendering the last frame. Similarly, this frame takes up the first ~0.1ms of the next frame. Bars that belong to other frames are greyed out, and the vertical lines on the time ruler at the top of the modules detail pane mark the beginning and the end of the frame on the main thread.</p>

<p>When you profile the GPU Usage, the <span class="tooltip"><strong>toolbar</strong><span class="tooltiptext">A row of buttons and basic controls at the top of the Unity Editor that allows you to interact with the Editor in various ways (e.g. scaling, translation). <a href="Toolbar.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Toolbar">Glossary</a></span></span></span> above the time ruler shows how much of the frame time was spent on the CPU and how much on the GPU. In this example, the game is GPU bound and spends the biggest amount of time on the CPU for rendering, so this application needs its <a href="https://docs.unity3d.com/Manual/OptimizingGraphicsPerformance.html">graphics performance optimized</a>.</p>

<h3>Navigating and selecting items</h3>

<p>To zoom in on areas of the time axis, use the scroll wheel on your mouse, or press and hold the <strong>Alt</strong> key while you drag with the right mouse button pressed down. You can also use the ends of the horizontal scrollbar to zoom in. Press the A key on your keyboard to reset the zoom so that the entire frame time is visible. </p>

<p>Whenever you see a white arrow on the bottom of a thread, you can click it to unfold the thread to show all lines or click again to show only the top ones. You can also drag the line that separates the threads to readjust how many lines you can see. Double-clicking the line sets the height of the thread’s section to the maximum depth of the call stack. To pan the view, press the middle mouse button or hold the <strong>Alt</strong> key (<strong>Command</strong> key on macOS) and press the left mouse button. </p>

<p>To collapse and expand groups of threads, click on the foldout arrows next to the thread names on the far left of the view. </p>

<p>To see an item’s contribution to the CPU chart, select it in the lower pane by clicking on it, and the Profiler highlights its contribution, and dims the rest of the chart. To deselect the item, click elsewhere in the view. Press the <strong>F</strong> key to focus the current sample you selected or show the default zoom level if you’ve selected nothing.</p>

<figure>
<img src="../uploads/Main/profiler-cpu-selected-module.png" alt="CPU Usage module in Timeline view, with a selected item">
<figcaption>CPU Usage module in Timeline view, with a selected item</figcaption>
</figure>

<p>In the above example, the tooltip on the selected item provides further details such as the number of instances and the total time of this sample across all threads. GC.Alloc samples show up colored in red-magenta and show you the size of the Allocation. </p>

<p>To show Managed Callstacks in the tooltip, enable the <strong>Managed Callstacks</strong> option from the <strong>Allocation Callstacks</strong> dropdown in the Profiler window’s toolbar. You need to enable the <strong>Managed Callstacks</strong> setting before profiling a frame to show it for that frame. This option only works when you are profiling in the Editor. For more information, see the section on <a href="#allocation-callstacks">Allocation Callstacks</a>.</p>

<p>You can also manually measure any arbitrary time span in the Timeline view by clicking and dragging horizontally anywhere to display an overlay across a section of the timeline. You can see the time encompassed by that overlay in the time ruler at the top. Press the F key while the overlay is displayed to frame the view horizontally along the selected time section. Click anywhere to remove the overlay.</p>

<p><a name="hierarchy"></a></p>

<h2>Hierarchy and Raw Hierarchy view</h2>

<p>When you switch to the <strong>Hierarchy</strong> or <strong>Raw Hierarchy</strong> view, your selection carries over, as long as the sample is on the main thread. If you cannot immediately find your selection, press the <strong>F</strong> key to focus it. </p>

<figure>
<img src="../uploads/Main/profiler-cpu-hierarchy-view.png" alt="The CPU Usage Profiler module with the Hierarchy view">
<figcaption>The CPU Usage Profiler module with the Hierarchy view</figcaption>
</figure>

<p>The <strong>Hierarchy</strong> view lists all samples that have been profiled and groups them together by their shared call stack and the hierarchy of ProfilerMarkers. The <strong>Raw Hierarchy</strong> view does not group samples together, which makes it ideal for looking into samples on a granular level. Both display the following detailed information for each step in the hierarchy next to each row:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Property</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Total</strong></td>
	<td style="text-align:left;">The total amount of time spent on a particular function as a percentage.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Self</strong></td>
	<td style="text-align:left;">The total amount of time spent on a particular function as a percentage, excluding the time Unity spends calling sub-functions. <br> <br> For example, in the screenshot, 41.7% of time is spent in the Camera.Render function. This is because it calls a lot of drawing and culling functions, however when you exclude the functions it calls, only 3.5% of time is spent on the Camera.Render function itself.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Calls</strong></td>
	<td style="text-align:left;">The number of calls made to this function in this frame. In the <strong>Raw Hierarchy</strong> view the values in this column are always 1 because the Profiler does not merge the hierarchy of samples.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>GC Alloc</strong></td>
	<td style="text-align:left;">How much scripting heap memory Unity has allocated in the current frame. The scripting heap memory is managed by the <a href="BestPracticeUnderstandingPerformanceInUnity4-1.html">garbage collector</a>. <br> <br> Whenever a <code>GC.Collect()</code> is called or there is a scripting heap allocation that does not fit within the heap’s current size, the garbage collector is triggered. It marks all allocations that have no more references to them and collects them. This process shows up as GC.Collect samples in the Profiler. <br> <br> Unity runs the garbage collector more frequently as you allocate more on the heap. As the managed heap grows, it takes Unity longer to mark and collect the memory. As such, you should keep the GC Alloc value at zero while your application runs to prevent the garbage collector from affecting your framerate, as well as keeping the overall heap size small.<br> <br> For more details about the managed heap see the <a href="UnderstandingAutomaticMemoryManagement.html">Understanding Automatic Memory Management</a> documentation.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Time ms</strong></td>
	<td style="text-align:left;">The total amount of time spent on a particular function in milliseconds. This information might be misleading, as it only contains the time spent on the main thread. If your application uses the <a href="JobSystem.html">Job System</a> or multithreaded rendering, you should be aware of this.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Self ms</strong></td>
	<td style="text-align:left;">The total amount of time spent on a particular function in milliseconds, excluding the time Unity spends calling sub-functions.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Warning</strong></td>
	<td style="text-align:left;">Indicated by a warning icon, this displays how many times a warning has been triggered during the current frame. For more information see the <a href="#warnings">Performance warnings</a> section of this documentation.</td>
</tr>
</tbody>
</table>

<p>You can also get more information about where your application calls and uses the profiled functions by selecting either <strong>Show Related Objects</strong> or <strong>Show Calls</strong> view from the Details dropdown at the top right hand corner of the module details pane.</p>

<figure>
<img src="../uploads/Main/profiler-show-related-objects.png" alt="Show Related Objects panel">
<figcaption>Show Related Objects panel</figcaption>
</figure>

<p>The <strong>Show Related Objects</strong> view displays a list of UnityEngine.Objects that are associated with the Profiler sample, using the <a href="../ScriptReference/Unity.Profiling.ProfilerMarker.Begin.html">Begin()</a> overload that takes a UnityEngine.Object. Some samples Unity reports have these associations built in, such as <span class="tooltip"><strong>Camera</strong><span class="tooltiptext">A component which creates an image of a particular viewpoint in your scene. The output is either drawn to the screen or captured as a texture. <a href="CamerasOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Camera">Glossary</a></span></span></span>.Render samples that are linked to the <strong>Camera</strong> object that does the rendering. These objects are reported via their instance ID and resolved to a name in the Profiler window. </p>

<p>When you click on one of these objects, Unity tries to find the object via the <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scene">Glossary</a></span></span></span> hierarchy and <a href="../ScriptReference/EditorGUIUtility.PingObject.html">ping</a> it. Because the association uses the instance ID, pinging only works when you are profiling your application the Editor, and for as long as the object still exists. </p>

<p>For <strong>GC.Alloc</strong> samples, this view displays a list of “N/A” items, one for each allocation that occured at this hierarchy level, with the size of the allocation listed in the GC.Alloc column. If you profile your application in the Editor with the <strong>Allocation Callstacks</strong> setting enabled, when you select a GC.Alloc sample in this view, the call stack for the allocated scripting object you selected is displayed, even if you did not enable the <strong>Deep Profiling</strong> setting. For more information, see the <a href="#allocation-callstacks">Allocation Callstacks</a> section of this documentation.</p>

<figure>
<img src="../uploads/Main/profiler-show-calls.png" alt="Show Calls panel">
<figcaption>Show Calls panel</figcaption>
</figure>

<p>The <strong>Show Calls</strong> panel displays where the selected sample is being called from as well as what other functions it calls to.</p>

<p>Additionally, under the gear icon at the top of the module details pane, you can enable or disable the <strong>Collapse Editor Only Samples</strong> setting. This collapses all samples in the Player Loop that only happen because of Editor-only safety checks. When the samples are collapsed, their GC.Alloc value does not contribute to GC.Alloc value of their enclosing sample. This setting is enabled by default. For more information, see the <a href="#editor-only">Editor only samples</a> section of this documentation.</p>

<p><a name="samples"></a></p>

<h3>Common samples</h3>

<p>As well as samples that your scripting code generates, Unity provides a large amount of samples that give you some insight into what is taking up time in your application. The following tables explain what some of the more common samples do.</p>

<h4>Main thread base samples</h4>

<p>The main thread base samples provide a clear separation between the time spent on your application and time spent on the Editor and Profiler activities. The <a href="../ScriptReference/Profiling.Recorder.html">Recorder</a> can also use these samples to get the timing of a frame on the main thread.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Sample</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">PlayerLoop</td>
	<td style="text-align:left;">The root to any samples that originate from your application’s main loop. When you enable the <strong>Profile Editor</strong> setting while the Player is running in the Editor in active playmode, this sample nests under the EditorLoop.</td>
</tr>
<tr>
	<td style="text-align:left;">EditorLoop</td>
	<td style="text-align:left;">The root to any samples that originate from the Editor’s main loop. This is only present while you profile a player in the Editor. When you disable the <strong>Profile Editor</strong> setting, this sample shows how much time of the frame was spent rendering and running the Editor that contains the Player.</td>
</tr>
<tr>
	<td style="text-align:left;">Profiler.CollectEditorStats</td>
	<td style="text-align:left;">The root for any samples that relate to collecting stats for different active Profiler modules. Any sample under the child sample Profiler.CollectGlobalStats incurs an overhead on the Player. All other child samples only affect the Editor. To turn specific modules off, close their chart or call <a href="../ScriptReference/Profiling.Profiler.SetAreaEnabled.html">Profiler.SetAreaEnabled()</a>.</td>
</tr>
</tbody>
</table>

<h4>Script update samples</h4>

<p>Unless you are using the Job System, most of your scripting code is nested underneath the following samples:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Sample</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Update.ScriptRunBehaviourUpdate</td>
	<td style="text-align:left;">This sample includes calls to MonoBehaviour.Update and processing of coroutines.</td>
</tr>
<tr>
	<td style="text-align:left;">BehaviourUpdate</td>
	<td style="text-align:left;">This sample processes all Update() methods.</td>
</tr>
<tr>
	<td style="text-align:left;">CoroutinesDelayedCalls</td>
	<td style="text-align:left;">Contains coroutine samples after their first yield.</td>
</tr>
<tr>
	<td style="text-align:left;">PreLateUpdate.ScriptRunBehaviourLateUpdate</td>
	<td style="text-align:left;">This sample processes all LateUpdate() methods.</td>
</tr>
<tr>
	<td style="text-align:left;">FixedBehaviourUpdate</td>
	<td style="text-align:left;">This sample processes all FixedUpdate() methods.</td>
</tr>
</tbody>
</table>

<h4>Rendering and VSync samples</h4>

<p>These samples show where the CPU spends time processing data for the GPU or where it might be waiting for the GPU to finish. If the GPU Profiler is not available or it is adding too much overhead, the toolbar does not show this information. These samples can give you an idea of if you are CPU-bound or GPU-bound.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Sample</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">WaitForTargetFPS</td>
	<td style="text-align:left;">The time your application spends waiting for the targeted FPS that <a href="../ScriptReference/Application-targetFrameRate.html">Application.targetFrameRate</a> specifies.<br> <br> If this sample is a sub-sample of Gfx.WaitForPresent, it represents the amount of time your application spends waiting for the VSync configured in <a href="../ScriptReference/QualitySettings-vSyncCount.html">QualitySettings.vSyncCount</a>.<br> <br> <strong>Note:</strong> The Editor doesn’t VSync on the GPU and instead uses WaitForTargetFPS to simulate the delay for VSync. Some platforms, in particular Android and iOS, enforce VSync or have a default frame rate cap of 30 or 60.</td>
</tr>
<tr>
	<td style="text-align:left;">Gfx.ProcessCommands</td>
	<td style="text-align:left;">Contains all processing of the rendering commands on the render thread. Some of that time might be spent waiting for VSync or new commands from the main thread, which you can see from it’s child sample Gfx.WaitForPresent.</td>
</tr>
<tr>
	<td style="text-align:left;">Gfx.WaitForCommands</td>
	<td style="text-align:left;">Indicates that the render thread is ready for new commands and might indicate a bottle neck on the main thread.</td>
</tr>
<tr>
	<td style="text-align:left;">Gfx.PresentFrame</td>
	<td style="text-align:left;">Indicates the time your application spends waiting for the GPU to render and present the frame, which might include waiting for VSync.<br> <br> A WaitForTargetFPS sample on the main thread shows how much of that time is spent waiting for VSync.</td>
</tr>
<tr>
	<td style="text-align:left;">Gfx.WaitForPresent</td>
	<td style="text-align:left;">Indicates that the main thread is ready to start rendering the next frame, but the render thread has not finished waiting on the GPU to present the frame. This might indicate that your application is GPU-bound. To see what the render thread is simultaneously spending time on, check the Timeline view.<br> <br> If the render thread spends time in Camera.Render, your application is CPU-bound and might be spending too much time sending draw calls or textures to the GPU.<br> <br> If the render thread spends time in Gfx.PresentFrame, your game is GPU-bound or it might be waiting for VSync on the GPU. A WaitForTargetFPS sub-sample of GFX.WaitForPresent indicates the portion of the Present phase that your application spends waiting for VSync.</td>
</tr>
</tbody>
</table>

<h4>Physics samples</h4>

<p>The following table outlines some of the high-level physics Profiler samples. FixedUpdate calls all of these samples.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"><strong>Sample</strong></th>
	<th style="text-align:left;"><strong>Function</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;" colspan="2">Physics.Simulate</td>
	<td style="text-align:left;">Updates the state of the current physics by instructing the physics engine (PhysX) to run its simulation.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.Processing</td>
	<td style="text-align:left;">Processes all non-cloth physics jobs. Expand this sample to show the low-level detail of the work done internally in the physics engine.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.ProcessingCloth</td>
	<td style="text-align:left;">Processes all cloth physics jobs. Expand this sample to show the low-level detail of the work done internally in the physics engine.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.FetchResults</td>
	<td style="text-align:left;">Collects the results of the physics simulation from the physics engine.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.UpdateBodies</td>
	<td style="text-align:left;">Updates all the physics bodies’ positions and rotations. This sample also contains messages that communicate when these updates are sent.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.ProcessReports</td>
	<td style="text-align:left;">Runs once the physics FixedUpdate ends. Processes the various stages of responding to the results of the simulation. Contacts, <span class="tooltip"><strong>joint</strong><span class="tooltiptext">A physics component allowing a dynamic connection between rigidbodies, usually allowing some degree of movement such as a hinge. <a href="joints.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#joint">Glossary</a></span></span></span> breaks and triggers update and message in this sample. There are four distinct sub stages:</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Physics.TriggerEnterExits</td>
	<td style="text-align:left;">Processes OnTriggerEnter and OnTriggerExit events.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Physics.TriggerStays</td>
	<td style="text-align:left;">Processes OnTriggerStay events.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Physics.Contacts</td>
	<td style="text-align:left;">Processes OnCollisionEnter, OnCollisionExit, and OnCollisionStay events.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;">Physics.JointBreaks</td>
	<td style="text-align:left;">Processes updates and messages relating to broken joints.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.UpdateCloth</td>
	<td style="text-align:left;">Contains updates relating to cloth and their skinned meshes.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2">Physics.<span class="tooltip"><strong>Interpolation</strong><span class="tooltiptext">The estimation of values that determine the shape of an animation curve between two keys. <a href="TimelineChangingInterpolation.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#interpolation">Glossary</a></span></span></span></td>
	<td style="text-align:left;">Manages the <strong>interpolation</strong> of positions and rotations for all the physics objects.</td>
</tr>
</tbody>
</table>

<p><a name="warnings"></a></p>

<h2>Performance warnings</h2>

<p>The CPU Profiler can detect some common performance issues and warn you about them. These appear in the Warning column of the Hierarchy view in the module details pane.</p>

<figure>
<img src="../uploads/Main/ProfilerCPUWarningCount.png" alt="A Profiler warning indicating that Static Colliders have been moved">
<figcaption>A Profiler warning indicating that Static Colliders have been moved</figcaption>
</figure>

<p>The specific issues the Profiler can detect are:</p>

<ul>
<li>
<strong><span class="tooltip"><strong>Rigidbody</strong><span class="tooltiptext">A component that allows a GameObject to be affected by simulated gravity and other forces. <a href="class-Rigidbody.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Rigidbody">Glossary</a></span></span></span>.SetKinematic:</strong> recreate non-convex MeshCollider for Rigidbody</li>
<li>
<strong>Animation.DestroyAnimationClip:</strong> triggers RebuildInternalState</li>
<li>
<strong>Animation.AddClip:</strong> triggers RebuildInternalState</li>
<li>
<strong>Animation.RemoveClip:</strong> triggers RebuildInternalState</li>
<li>
<strong>Animation.Clone:</strong> triggers RebuildInternalState</li>
<li>
<strong>Animation.Deactivate:</strong> triggers RebuildInternalState</li>
</ul>

<p><a name="allocation-callstacks"></a></p>

<h2>Allocation Callstacks</h2>

<p>If you profile your application in the Editor, you can see the full call stack for a GC.Alloc sample. To do this, enable the <strong>Managed Allocations</strong> setting in the <strong>Allocation Callstacks</strong> dropdown of the toolbar of the Profiler window. In the frames you profile after you turn this option on, the GC.Alloc samples contain their callstacks. </p>

<p>Every scripting heap allocation shows up as a GC.Alloc sample in both the Hierarchy view and Timeline view. In Timeline view, it is colored bright magenta. To see a call stack, select the CPU Profiler Module and select a GC.Alloc sample in Timeline view. The call stack appears in the selection highlight. </p>

<p>Alternatively you can see the call stack in Hierarchy or Raw Hierarchy view. Set the <strong>Details</strong> view to <strong>Show Related Objects</strong>. Because GC.Alloc samples have no name, they show up as N/A in this panel. When you select an N/A object, the call stack is displayed in the bottom half of the Details view.</p>

<p>For more information about managed allocations, see documentation on <a href="UnderstandingAutomaticMemoryManagement.html">Understanding Automatic Memory Management</a>.</p>

<figure>
<img src="../uploads/Main/profiler-cpu-allocation-callstacks.png" alt="CPU Usage module in Timeline view with a GC.Alloc call stack">
<figcaption>CPU Usage module in Timeline view with a GC.Alloc call stack</figcaption>
</figure>

<figure>
<img src="../uploads/Main/profiler-cpu-heirarchy-callstack.png" alt="Callstack in the Hierarchy view">
<figcaption>Callstack in the Hierarchy view</figcaption>
</figure>

<p><a name="editor-only"></a></p>

<h2>Editor only samples</h2>

<p>Some samples are only present when you are profiling in the Editor. This includes security checks like the GetComponentNullErrorWrapper, which helps to identify a null component usage; CheckConsistency, which validates object setup; CheckAllowDestructionRecursive, which is a destruction check; and Prefab-related activities. All of these samples are not present in the Player.</p>

<figure>
<img src="../uploads/Main/profiler-cpu-editor-collapsed.png" alt="Hierarchy view with EditorOnly sample collapsed">
<figcaption>Hierarchy view with EditorOnly sample collapsed</figcaption>
</figure>

<p>By default, Editor-only samples are collapsed in the Hierarchy view, and are named <code>EditorOnly [SampleName]</code>. While they might cause GC.Alloc, they do not contribute to the GC.Alloc value of their enclosing sample if they are collapsed. </p>

<p>To change the default behavior, click the gear icon in the top right of the module details pane and disable the <strong>Collapse EditorOnly Samples</strong> option. When you do this, you can expand the sample and contribute its GC.Alloc value to the enclosing sample.</p>

<figure>
<img src="../uploads/Main/profiler-cpu-editor-expanded.png" alt="Hierarchy view with EditorOnly sample expanded">
<figcaption>Hierarchy view with EditorOnly sample expanded</figcaption>
</figure>

<p>This option does not affect the Timeline view. These samples can usually be ignored and are a prompt to profile Player builds on target devices to find actual issues. </p>
<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" id="problemneedcode">This page needs code samples</a></li>
<li><a name="code" id="problemcode">Code samples do not work</a></li>
<li><a name="missing" id="problemmissing">Information is missing</a></li>
<li><a name="incorrect" id="problemincorrect">Information is incorrect</a></li>
<li><a name="unclear" id="problemunclear">Information is unclear or confusing</a></li>
<li><a name="language" id="problemlanguage">There is a spelling/grammar error on this page</a></li>
<li><a name="other" id="problemother">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a id="problemThanksMoreInfoButton">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>InitialiseStarRating();</script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="profiler-profiling-applications.html"></a></span><div class="tip">Profiling your application</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ProfilerRendering.html"></a></span><div class="tip">Rendering Profiler</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication: 2019.2-003J. Built: 2019-12-16.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div>
</div></div>
</div>
</body>
</html>
