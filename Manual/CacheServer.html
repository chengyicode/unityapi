<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Cache Server</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1576442311"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1576442311"></script><script type="text/javascript" src="docdata/toc.js?ts=1576442311"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1576442311"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1576442311">
<link rel="stylesheet" href="../StaticFilesManual/js/feedback/five-star-rating-master/css/rating.min.css">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="../StaticFilesManual/js/feedback/five-star-rating-master/js/src/rating.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="UnityOverview" data-pagetype="normal"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.2</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/CacheServer.html">English</a></li>
<li><a href="/ja/current/Manual/CacheServer.html">日本語</a></li>
<li><a href="/es/current/Manual/CacheServer.html">Español</a></li>
<li><a href="/kr/current/Manual/CacheServer.html">한국어</a></li>
<li><a href="/ru/current/Manual/CacheServer.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/CacheServer.html">English</a></li>
<li><a href="/ja/current/Manual/CacheServer.html">日本語</a></li>
<li><a href="/es/current/Manual/CacheServer.html">Español</a></li>
<li><a href="/kr/current/Manual/CacheServer.html">한국어</a></li>
<li><a href="/ru/current/Manual/CacheServer.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block">
<div class="darkCover"></div>
<div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.2)</a></li>
<li><a href="UnityOverview.html">Working in Unity</a></li>
<li><a href="AdvancedEditor.html">Advanced Editor Topics</a></li>
<li> Cache Server</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ClassIDReference.html"></a></span><div class="tip">YAML Class ID Reference</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ModifyingSourceAssetsThroughScripting.html"></a></span><div class="tip">Modifying Source Assets Through Scripting</div>
</div>
</div></div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>Cache Server</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity has a completely automatic Asset pipeline. Whenever a source Asset like a .psd or an .fbx file is modified, Unity detects the change and automatically re-imports it. The imported data from the file is subsequently stored by Unity in an internal format.</p>

<p>This arrangement is designed to make the workflow as efficient and flexible as possible for an individual user. However, when working in a team, you may find that other users might keep making changes to Assets, all of which must be imported. Furthermore, Assets must be reimported when you switch between desktop and mobile build target platforms. The switch can therefore take a long time for large projects.</p>

<p>Caching the imported Assets data on the <strong>Cache Server</strong> drastically reduces the time it takes to import Assets.</p>

<p>Unity caches each Asset import based on: </p>

<ul>
<li>The Asset file itself</li>
<li>The Import settings</li>
<li>The Asset importer version</li>
<li>The current platform</li>
</ul>

<p>If any of the above change, Unity re-imports the Asset. Otherwise, Unity downloads it from the Cache Server.</p>

<p>When you use a Cache Server, you can even share Asset imports across multiple projects (that is, the work of importing is done on one computer and the results are shared with others).</p>

<p>
<strong>Note:</strong> Once the Cache Server is <a href="#admin-setup">set up</a> and <a href="#enable">enabled</a>, this process is completely automatic, so there are no additional workflow requirements. It reduces the time it takes to import projects without further intervention from the user.</p>

<p><a name="enable"></a></p>

<h2>Enabling a Cache Server</h2>

<p>To enable a Cache Server:</p>

<ol>
<li>Open the Unity <strong>Preferences</strong> window (from the main menu: <strong>Unity</strong> &gt; <strong>Preferences</strong> on MacOS or <strong>Edit</strong> &gt; <strong>Preferences</strong> on Windows and Linux).</li>
<li>Select <strong>Cache Server</strong> from the category list on the left. The <strong>Cache Server</strong> settings appear in the details pane on the right.</li>
<li>Choose <strong>Remote</strong> or <strong>Local</strong> from the <strong>Cache Server Mode</strong> drop-down box. The properties unique to the selected mode appear.</li>
<li>Set the <a href="Preferences.html#Cache-Server">Cache Server preferences</a> for the mode you selected.</li>
</ol>

<p>
<strong>Tip:</strong> It is better to host the Cache Server on a separate computer if possible because of hard drive size limitations. </p>

<p>
<strong>Note:</strong> If you have a local Cache Server with a custom location, and that location becomes unavailable, Unity displays the following warning:</p>

<blockquote>
<p><em>Local cache directory does not exist - please check that you can access the cache folder and are able to write to it</em></p>
</blockquote>

<p><a name="admin-setup"></a></p>

<h2>Setting up a <strong>Cache Server</strong> as an administrator</h2>

<p>Administrators need to set up the <strong>Cache Server</strong> computer that hosts the cached Assets. </p>

<p>To set up the Cache Server on a remote server:</p>

<ol>
<li>Download the Cache Server:

<ul>
<li>Open Unity’s <a href="https://unity3d.com/get-unity/download/archive">Download Archive</a> page.</li>
<li>Locate the Unity version you are using and click the <strong>Downloads</strong> button for your target server’s operating system.</li>
<li>Click the <strong>Cache Server</strong> link to start the download.</li>
</ul>
</li>
<li>Unzip the file, which looks like this:
 <img src="../uploads/Main/CacheServerZipCropped.png" alt="">
</li>
<li>Run the command script that matches your operating system.
 A terminal window appears, indicating that the Cache Server is running in the background:
 <img src="../uploads/Main/CacheServerTerminal.png" alt="">
</li>
</ol>

<p>
<strong>Important:</strong> The Cache Server needs to be on a reliable computer with very large storage (much larger than the size of the project itself, as there will be multiple versions of imported resources stored). If the hard disk becomes full the Cache Server could perform slowly.</p>

<h2>Installing the Cache Server as a service</h2>

<p>The provided <code>.sh</code> and <code>.cmd</code> <span class="tooltip"><strong>scripts</strong><span class="tooltiptext">A piece of code that allows you to create your own Components, trigger game events, modify Component properties over time and respond to user input in any way you like. <a href="CreatingAndUsingScripts.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scripts">Glossary</a></span></span></span> must be set up as a service on the server.
The Cache Server can be safely killed and restarted at any time, since it uses atomic file operations.</p>

<h2>New and legacy Cache Servers</h2>

<p>Two Cache Server processes are started by default. The legacy Cache Server works with versions of Unity prior to version 5.0. The new Cache Server works with versions of Unity from 5.0 and up. See Cache Server configuration, below for details on configuring, enabling, and disabling the two different Cache Servers.</p>

<h2>Cache Server configuration</h2>

<p>If you simply start by executing the script, it launches the legacy Cache Server on port 8125 and the new Cache Server on port 8126. It also creates “cache” and “cache5.0” directories in the same directory as the script, and keep data in there. The cache directories are allowed to grow to up to 50 GB by default. You can configure the size and the location of the data using command line options, like this:</p>

<p><code>./RunOSX.command --path ~/mycachePath --size 2000000000</code></p>

<p>or </p>

<p><code>./RunOSX.command --path ~/mycachePath --port 8199 --nolegacy</code></p>

<p>You can configure the Cache Server by using the following command line options:</p>

<ul>
<li>Use <code>--port</code> to specify the server port. This only applies to the new Cache Server. The default value is <code>8126</code>.</li>
<li>Use <code>--path</code> to specify the path of the cache location. This only applies to the new Cache Server. The default value is <code>./cache5.0</code>.</li>
<li>Use <code>--legacypath</code> to specify the path of the cache location. This only applies to the legacy Cache Server. The default value is <code>./cache</code>.</li>
<li>Use <code>--size</code> to specify the maximum cache size in bytes for both Cache Servers. Files that have not been used recently are automatically discarded when the cache size is exceeded.</li>
<li>Use <code>--nolegacy</code> to stop the legacy Cache Server starting. Otherwise, the legacy Cache Server is started on port <code>8125</code>.</li>
</ul>

<h2>Requirements for the computer hosting the Cache Server</h2>

<p>For best performance there must be enough RAM to hold an entire imported project folder. In addition, it is best to have a computer with a fast hard drive and fast Ethernet connection. The hard drive should also have sufficient free space. On the other hand, the Cache Server has very low CPU usage.</p>

<p>One of the main distinctions between the Cache Server and <span class="tooltip"><strong>version control</strong><span class="tooltiptext">A system for managing file changes. You can use Unity in conjunction with most common version control tools, including Perforce, Git, Mercurial and PlasticSCM. <a href="VersionControl.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#VersionControl">Glossary</a></span></span></span> is that its cached data can always be rebuilt locally. It is simply a tool for improving performance. For this reason it doesn’t make sense to use a Cache Server over the Internet. If you have a distributed team, you should place a separate Cache Server in each location.</p>

<p>The Cache Server runs optimally on a Linux or Mac OS X computer. The Windows file system is not particularly well-optimized for how the Cache Server stores data, and problems with file locking on Windows can cause issues that don’t occur on Linux or Mac OS X.</p>

<h2>Cache Server FAQ</h2>

<h3>Will the size of my Cache Server database grow indefinitely as more and more resources get imported and stored?</h3>

<p>The Cache Server removes Assets that have not been used for a period of time automatically (of course if those Assets are needed again, they are re-created on next usage). </p>

<h3>Does the Cache Server work only with the Asset server?</h3>

<p>The Cache Server is designed to be transparent to source/version control systems, so you are not restricted to using Unity’s <span class="tooltip"><strong>Asset server</strong><span class="tooltiptext">Legacy - An Asset and version control system with a graphical user interface integrated into Unity. Enables team members to work together on a Project on different computers. <a href="AssetServer.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#AssetServer">Glossary</a></span></span></span>.</p>

<h3>What changes cause the imported file to get regenerated?</h3>

<p>When Unity is about to import an Asset, it generates an MD5 hash of all source data.</p>

<p>For a Texture, this consists of:</p>

<ul>
<li>The source Asset: “myTexture.psd” file</li>
<li>The meta file: “myTexture.psd.meta” (Stores all importer settings)</li>
<li>The internal version number of the Texture Importer</li>
<li>A hash of version numbers of all <a href="../ScriptReference/AssetPostprocessor.html">AssetPostprocessors</a>
</li>
</ul>

<p>If that hash is different from what is stored on the Cache Server, the Asset is reimported. Otherwise the cached version is downloaded. The client Unity Editor only pulls Assets from the server as they are needed - Assets don’t get pushed to each project as they change.</p>

<h3>How do I work with Asset dependencies?</h3>

<p>The Cache Server does not handle dependencies. Unity’s Asset pipeline does not deal with the concept of dependencies. It is built in such a way as to avoid dependencies between Assets. The <a href="../ScriptReference/AssetPostprocessor.html">AssetPostprocessor</a> class is a common technique used to customize the Asset importer to fit your needs. For example, you might want to add MeshColliders to some <span class="tooltip"><strong>GameObjects</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#GameObject">Glossary</a></span></span></span> in an .fbx file based on their name or tag.</p>

<p>It is also easy to use <code>AssetPostprocessor</code> to introduce dependencies. For example you might use data from a text file next to the Asset to add additional components to the imported GameObjects. This is not supported in the Cache Server. If you want to use the Cache Server, you have to remove dependency on other Assets in the project folder. Since the Cache Server doesn’t know anything about the dependency in your postprocessor, it does not know that anything has changed, and thus uses an old cached version of the Asset.</p>

<p>In practice there are plenty of ways you can do Asset postprocessing to work well with the Cache Server. You can use:</p>

<ul>
<li>The Path of the imported Asset</li>
<li>Any import settings of the Asset</li>
<li>The source Asset itself, or any data generated from it passed to you in the Asset postprocessor.</li>
</ul>

<h3>Are there any issues when working with Materials?</h3>

<p>Modifying Materials that already exist might cause problems. When using the Cache Server, Unity validates that the references to Materials are maintained, but because no postprocessing calls are invoked, the contents of the Material cannot be changed when a model is imported through the Cache Server. Because of this, you might get different results when importing with and without the Cache Server. </p>

<p>Don’t modify materials that already exist on disk from an Asset postprocessor because if you download an fbx file through the cache server, then there is no import process running for it. So if you rely on resetting the generated materials to some generated defaults every time the model importer runs, then this Asset postprocessor will not be run when importing a cached fbx file.</p>

<h3>Are there any Asset types which are not cached by the server?</h3>

<p>There are a few kinds of Asset data which the server doesn’t cache. There isn’t really anything to be gained by caching script files, so the server ignores them. Also, native files used by 3D modeling software (Autodesk® Maya®, Autodesk® 3ds Max®, etc) are converted to FBX using the application itself. The Asset server does not cache the native file nor the intermediate FBX file generated in the import process. However, it is possible to benefit from the server, by exporting files as FBX from the modeling software and then adding those to the Unity project.</p>

<hr>

<ul>
<li><span class="page-edit">2018–11–09 Page amended
</span></li>
</ul>
<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" id="problemneedcode">This page needs code samples</a></li>
<li><a name="code" id="problemcode">Code samples do not work</a></li>
<li><a name="missing" id="problemmissing">Information is missing</a></li>
<li><a name="incorrect" id="problemincorrect">Information is incorrect</a></li>
<li><a name="unclear" id="problemunclear">Information is unclear or confusing</a></li>
<li><a name="language" id="problemlanguage">There is a spelling/grammar error on this page</a></li>
<li><a name="other" id="problemother">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a id="problemThanksMoreInfoButton">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>InitialiseStarRating();</script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ClassIDReference.html"></a></span><div class="tip">YAML Class ID Reference</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="ModifyingSourceAssetsThroughScripting.html"></a></span><div class="tip">Modifying Source Assets Through Scripting</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication: 2019.2-003J. Built: 2019-12-16.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div>
</div></div>
</div>
</body>
</html>
