<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Scoped package registries</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1576442311"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1576442311"></script><script type="text/javascript" src="docdata/toc.js?ts=1576442311"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1576442311"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1576442311">
<link rel="stylesheet" href="../StaticFilesManual/js/feedback/five-star-rating-master/css/rating.min.css">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="../StaticFilesManual/js/feedback/five-star-rating-master/js/src/rating.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="PackagesList" data-pagetype="normal"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.2</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-scoped.html">English</a></li>
<li><a href="/ja/current/Manual/upm-scoped.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-scoped.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-scoped.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-scoped.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-scoped.html">English</a></li>
<li><a href="/ja/current/Manual/upm-scoped.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-scoped.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-scoped.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-scoped.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block">
<div class="darkCover"></div>
<div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.2)</a></li>
<li><a href="PackagesList.html"> Packages</a></li>
<li><a href="Packages.html"> Working with the Package Manager</a></li>
<li><a href="upm-manifestPrj.html"> Project manifest</a></li>
<li> Scoped package registries</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-git.html"></a></span><div class="tip"> Git URLs</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-conflicts.html"></a></span><div class="tip"> Package conflicts</div>
</div>
</div></div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>Scoped package registries</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>A scoped registry allows you to use a registry in addition to the Unity default registry where you can host your own packages. Using scoped registries ensures that the Package Manager always maps a package to one and only one registry, guaranteeing a consistent result regardless of network conditions.</p>

<p>For example, if you set up your own server where you are hosting some of the Unity packages, you could end up getting the package from the wrong registry if one registry is temporarily unavailable, even if the Package Manager always searches the registries in the same order. However, if you set up a scoped registry for your own server, the package always maps to one and only one registry, guaranteeing a consistent result regardless of network conditions.</p>

<h2>Supported registry types</h2>

<p>Unity Package Manager supports registries based on the <strong>npm</strong> protocol. You can use any off the shelf <strong>npm</strong> registry server and it should work, but <a href="https://www.npmjs.com/package/verdaccio">Verdaccio</a> is quick to set up and doesn’t require a lot of configuration. </p>

<p>Once you set up these servers, you can include them as <strong>scoped registries</strong>, which is the <a href="https://docs.npmjs.com/creating-and-publishing-scoped-public-packages">same concept that <strong>npm</strong> uses</a>.</p>

<h3>Limitations</h3>

<p>Some npm registry servers do not support searching all packages with the <code>/all</code> Web API route. The Package Manager Search API relies on configured scoped registries to support this old npm API protocol. It has an HTTP endpoint that returns the metadata of all published packages (for example, <code>https://registry.my-company.com/-/all</code>). </p>

<p>If you have a tool that uses the Package Manager API to list available packages, you might experience unexpected results if your registry does not support the old protocol. For example, in this case, the <strong>Package Manager</strong> window does not display packages from those scoped registries in the <strong>All packages</strong> tab. However, this limitation does not apply to package resolution, so you can still manually add packages from scoped registries to the <span class="tooltip"><strong>Project manifest</strong><span class="tooltiptext">Each Unity Project has a <em>Project manifest</em>, which acts as an entry point for the Package Manager. This file must be available in the <code>&lt;project&gt;/Packages</code> directory. The Package Manager uses it to configure many things, including a list of dependencies for that Project, as well as any package repository to query for packages. <a href="upm-manifestPrj.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Projectmanifest">Glossary</a></span></span></span>.</p>

<h2>Setting up a scoped registry</h2>

<p>To set up your scoped registries in your Project manifest, use the <a href="upm-manifestPrj.html#scopedRegistries">scopedRegistries</a> attribute, which takes an array of scoped registry configuration objects. Each object contains a <a href="#name">name</a>, a <a href="#url">url</a> location, and a list of <a href="#scopes">scopes</a> for each package name pattern you want to map to that scoped registry. When the Package Manager decides which registry to fetch a package from, it compares the package <strong>name</strong> to the <strong>scopes</strong> values and finds the registry whose <strong>scopes</strong> most closely match. </p>

<p>For example, in the Project manifest below, there are two scoped registries, <strong>Main</strong> and <strong>Tools</strong>:</p>

<pre><code class="json">{
  &quot;scopedRegistries&quot;: [
    {
      &quot;name&quot;: &quot;Main&quot;,
      &quot;url&quot;: &quot;https://my.company.com/registry&quot;,
      &quot;scopes&quot;: [
        &quot;com.my-company&quot;, &quot;com.my-company.tools.foo&quot;
      ]
    },
    {
      &quot;name&quot;: &quot;Tools&quot;,
      &quot;url&quot;: &quot;https://my.company.com/tools-registry&quot;,
      &quot;scopes&quot;: [
        &quot;com.my-company.tools&quot;
      ]
    }
  ],
  &quot;dependencies&quot;: {
    &quot;com.unity.cinemachine&quot;: &quot;1.0.0&quot;,
    &quot;com.unity.2d.common&quot;: &quot;1.0.0&quot;,
    &quot;com.unity.2d.animation&quot;: &quot;1.0.0&quot;,
    &quot;com.my-company.bar&quot;: &quot;1.0.0&quot;
  }
}

</code></pre>

<p>When a user requests the <strong>com.my-company.bar</strong> package, the Package Manager finds that the <strong>com.my-company.*</strong> namespace is the closest match to its name, and therefore fetches the package from the <strong>Main</strong> registry.</p>

<p>When a user requests the <strong>com.my-company.tools.foo</strong> package, the <strong>Main</strong> registry has a scope with a namespace that’s an exact match.</p>

<p>When a user requests the <strong>com.my-company.tools.animation</strong> package, the Package Manager finds that the <strong>com.my-company.tools.*</strong> namespace is the closest match to its name and therefore fetches the package from the <strong>Tools</strong> registry. Even though it also matches the <strong>Main</strong> scope, the <strong>com.my-company.*</strong> namespace is not as close a match.</p>

<p>When a user requests the <strong>com.other-company.bar</strong> package, the Package Manager doesn’t find a match in any of the scoped registries, and therefore fetches the package from the default registry.</p>

<h3>Configuration</h3>

<p>Configure scoped registries with the <a href="upm-manifestPrj.html#scopedRegistries">scopedRegistries</a> attribute in the Project manifest. The <strong>scopedRegistries</strong> attribute contains an array of entries (objects) that represent all of the registries. </p>

<p>Each registry object contains a unique <strong>name</strong>, a location (<strong>url</strong>), and an array of namespaces, or <strong>scopes</strong>. The Package Manager uses the scopes to match package names to registries.</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Attribute</strong></th>
	<th style="text-align:left;"><strong>JSON Type</strong></th>
	<th style="text-align:left;"><strong>Description</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">
<a name="name"></a><strong>name</strong>
</td>
	<td style="text-align:left;">String</td>
	<td style="text-align:left;">The scope name as it appears in the user interface. The <strong>Package Manager</strong> window displays this name in the <a href="upm-ui-details.html">package details view</a>. For example, <code>&quot;name&quot;: &quot;Tools&quot;</code>.</td>
</tr>
<tr>
	<td style="text-align:left;">
<a name="url"></a><strong>url</strong>
</td>
	<td style="text-align:left;">String</td>
	<td style="text-align:left;">The URL to the <a href="https://docs.google.com/document/d/1-PW4l1iXWXm9k8Pm4Rbw_8_wCLRoAmnPUPn3li_c7zk/edit#heading=h.vbo63iu5tkve">npm-compatible registry</a>. For example, <code>&quot;url&quot;: &quot;https://my.company.com/tools-registry&quot;</code>
</td>
</tr>
<tr>
	<td style="text-align:left;">
<a name="scopes"></a><strong>scopes</strong>
</td>
	<td style="text-align:left;">Array of Strings</td>
	<td style="text-align:left;">Array of scopes that you can map to a package name, either as an exact match on the package name, or as a namespace. <br><br>For example, <code>&quot;scopes&quot;: [ &quot;com.my-company&quot;, &quot;com.my-company.tools.foo&quot; ]</code> <br><br><strong>NOTE</strong>: This type of configuration assumes that packages follow the <a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation">Reverse domain name notation</a>. This ensures that <strong>com.unity</strong> is equivalent to <strong>com.unity.*</strong>.</td>
</tr>
</tbody>
</table>

<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" id="problemneedcode">This page needs code samples</a></li>
<li><a name="code" id="problemcode">Code samples do not work</a></li>
<li><a name="missing" id="problemmissing">Information is missing</a></li>
<li><a name="incorrect" id="problemincorrect">Information is incorrect</a></li>
<li><a name="unclear" id="problemunclear">Information is unclear or confusing</a></li>
<li><a name="language" id="problemlanguage">There is a spelling/grammar error on this page</a></li>
<li><a name="other" id="problemother">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a id="problemThanksMoreInfoButton">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>InitialiseStarRating();</script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-git.html"></a></span><div class="tip"> Git URLs</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-conflicts.html"></a></span><div class="tip"> Package conflicts</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2019 Unity Technologies. Publication: 2019.2-003J. Built: 2019-12-16.</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div>
</div></div>
</div>
</body>
</html>
