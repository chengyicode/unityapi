<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <link href="./css/stylesheet.css" rel="stylesheet" type="text/css"><title>Unity - Scripting API: Physics2D.RaycastNonAlloc</title></head> <body> <div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit"><a href="Physics2D.html">Physics2D</a>.RaycastNonAlloc</h1><div class="clear"></div><div class="clear"></div><div class="suggest"><div class="suggest-wrap rel hide"><div class="loading hide"><div></div><div></div><div></div></div></div></div><a href="" class="switch-link gray-btn sbtn left hide"></a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public static int <span class="sig-kw">RaycastNonAlloc</span>(<a href="Vector2.html">Vector2</a> <span class="sig-kw">origin</span>,
<a href="Vector2.html">Vector2</a> <span class="sig-kw">direction</span>,
RaycastHit2D[] <span class="sig-kw">results</span>,
float <span class="sig-kw">distance</span> = Mathf.Infinity,
int <span class="sig-kw">layerMask</span> = DefaultRaycastLayers,
float <span class="sig-kw">minDepth</span> = -Mathf.Infinity,
float <span class="sig-kw">maxDepth</span> = Mathf.Infinity);
    </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">minDepth</td><td class="desc"></td><td class="desc1">Only include objects with a Z coordinate (depth) greater than or equal to this value.</td></tr><tr><td class="name lbl">maxDepth</td><td class="desc"></td><td class="desc1">Only include objects with a Z coordinate (depth) less than or equal to this value.</td></tr><tr><td class="name lbl">origin</td><td class="desc"></td><td class="desc1">The point in 2D space where the ray originates.</td></tr><tr><td class="name lbl">direction</td><td class="desc"></td><td class="desc1">A vector representing the direction of the ray.</td></tr><tr><td class="name lbl">results</td><td class="desc"></td><td class="desc1">Array to receive results.</td></tr><tr><td class="name lbl">distance</td><td class="desc"></td><td class="desc1">The maximum distance over which to cast the ray.</td></tr><tr><td class="name lbl">layerMask</td><td class="desc"></td><td class="desc1">Filter to check objects only on specific layers.</td></tr></table></div><div class="subsection"><h2>Returns</h2><p><strong>int</strong>
        Returns the number of results placed in the <code class="varname">results</code> array.
      </p></div><div class="subsection"><h2>Description   描述</h2><p>Casts a ray into the Scene.</p></div><div class="subsection"><p>This function is similar to the <a href="Physics2D.RaycastAll.html">RaycastAll</a> function except that the results are returned in the supplied array. The integer return value is the number of objects that intersect the line (possibly zero) but the results array will not be resized if it doesn't contain enough elements to report all the results. The significance of this is that no memory is allocated for the results and so garbage collection performance is improved when raycasts are performed frequently.<br /><br />Additionally, this will also detect Collider(s) at the start of the ray.  In this case, the ray starts inside the Collider and doesn't intersect the Collider surface. This means that the collision normal cannot be calculated, in which case the returned collision normal is set to the inverse of the ray vector being tested.  This can easily be detected because such results are always at a RaycastHit2D fraction of zero.<br /><br />See Also: <a href="LayerMask.html">LayerMask</a> class, <a href="RaycastHit2D.html">RaycastHit2D</a> class, <a href="Physics2D.Raycast.html">Raycast</a>, <a href="Physics2D.Linecast.html">Linecast</a>, <a href="Physics2D.DefaultRaycastLayers.html">DefaultRaycastLayers</a>, <a href="Physics2D.IgnoreRaycastLayer.html">IgnoreRaycastLayer</a>, <a href="Physics2D-raycastsHitTriggers.html">raycastsHitTriggers</a>.</p></div></div></div></div></body></html>