<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <link href="./css/stylesheet.css" rel="stylesheet" type="text/css"><title>Unity - Scripting API: NavMeshQuery</title></head> <body> <div class="content"><div class="section"><div class="mb20 clear" id=""><div class="message message-error mb20"><b>Experimental</b>: this API is experimental and might be changed or removed in the future.</div><h1 class="heading inherit">NavMeshQuery</h1><div class="clear"></div><p class="cl mb0 left mr10">struct in
          UnityEngine.Experimental.AI</p><p class="cl mb0 left mr10">/</p><p class="cl mb0 left">Implemented in:<a href="UnityEngine.AIModule.html" class="cl">UnityEngine.AIModule</a></p><div class="clear"></div><div class="suggest"><div class="suggest-wrap rel hide"><div class="loading hide"><div></div><div></div><div></div></div></div></div><a href="" class="switch-link gray-btn sbtn left hide"></a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span></div></div></div><div class="subsection"><h2>Description   描述</h2><p>Object used for doing navigation operations in a <a href="Experimental.AI.NavMeshWorld.html">NavMeshWorld</a>.</p></div><div class="subsection"><p>NavMeshQuery operations can be executed inside jobs (<a href="Unity.Jobs.IJob.html">IJob</a>, <a href="Unity.Jobs.IJobParallelFor.html">IJobParallelFor</a>), as opposed to the operations in the <a href="AI.NavMesh.html">NavMesh</a>-related structures.<br /><br />To obtain a path between two locations on the NavMesh, the query must have been created with a <code class="varname">pathNodePoolSize</code> value greater than 0 and the following methods need to be called in sequence: <code class="varname">BeginFindPath</code>, <code class="varname">UpdateFindPath</code> (repeatedly, if necessary), <code class="varname">EndFindPath</code>, <code class="varname">GetPathResult</code>. These methods rely on storing some state data inside the NavMeshQuery but all the other methods do not change the object's state and can be called any time.<br /><br />All methods throw exceptions if any of their parameters are not valid when executed in the Editor.<br /><br /><strong>Note:</strong> The intended feature set for NavMeshQuery is not yet fully complete.</p></div><div class="subsection"><h2>Constructors</h2><table class="list">
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery-ctor.html">NavMeshQuery</a></td><td class="desc"></td><td class="desc1">Creates the NavMeshQuery object and allocates memory to store NavMesh node information, if required.</td></tr>
    </table></div><div class="subsection"><h2>Public Methods   公共方法</h2><table class="list">
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.BeginFindPath.html">BeginFindPath</a></td><td class="desc"></td><td class="desc1">Initiates a pathfinding operation between two locations on the NavMesh.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.CreateLocation.html">CreateLocation</a></td><td class="desc"></td><td class="desc1">Returns a valid NavMeshLocation for a position and a polygon provided by the user.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.Dispose.html">Dispose</a></td><td class="desc"></td><td class="desc1">Destroys the NavMeshQuery and deallocates all memory used by it.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.EndFindPath.html">EndFindPath</a></td><td class="desc"></td><td class="desc1">Obtains the number of nodes in the path that has been computed during a successful NavMeshQuery.UpdateFindPath operation.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.GetAgentTypeIdForPolygon.html">GetAgentTypeIdForPolygon</a></td><td class="desc"></td><td class="desc1">Returns the identifier of the agent type the NavMesh was baked for or for which the link has been configured.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.GetEdgesAndNeighbors.html">GetEdgesAndNeighbors</a></td><td class="desc"></td><td class="desc1">Retrieves the vertices of a given node and the identifiers of all the navigation nodes to which it connects.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.GetPathResult.html">GetPathResult</a></td><td class="desc"></td><td class="desc1">Copies into the provided array the list of NavMesh nodes that form the path found by the NavMeshQuery operation.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.GetPolygonType.html">GetPolygonType</a></td><td class="desc"></td><td class="desc1">Returns whether the NavMesh node is a polygon or a link.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.GetPortalPoints.html">GetPortalPoints</a></td><td class="desc"></td><td class="desc1">Obtains the end points of the line segment common to two adjacent NavMesh nodes.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.IsValid.html">IsValid</a></td><td class="desc"></td><td class="desc1">Returns true if the node referenced by the specified PolygonId is active in the NavMesh.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.MapLocation.html">MapLocation</a></td><td class="desc"></td><td class="desc1">Finds the closest point and PolygonId on the NavMesh for a given world position.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.MoveLocation.html">MoveLocation</a></td><td class="desc"></td><td class="desc1">Translates a NavMesh location to another position without losing contact with the surface.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.MoveLocations.html">MoveLocations</a></td><td class="desc"></td><td class="desc1">Translates a series of NavMesh locations to other positions without losing contact with the surface.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.MoveLocationsInSameAreas.html">MoveLocationsInSameAreas</a></td><td class="desc"></td><td class="desc1">Translates a series of NavMesh locations to other positions without losing contact with the surface, given one common area filter for all of them.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.PolygonLocalToWorldMatrix.html">PolygonLocalToWorldMatrix</a></td><td class="desc"></td><td class="desc1">Returns the transformation matrix of the NavMesh surface that contains the specified NavMesh node (Read Only).</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.PolygonWorldToLocalMatrix.html">PolygonWorldToLocalMatrix</a></td><td class="desc"></td><td class="desc1">Returns the inverse transformation matrix of the NavMesh surface that contains the specified NavMesh node (Read Only).</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.Raycast.html">Raycast</a></td><td class="desc"></td><td class="desc1">Trace a line between two points on the NavMesh.</td></tr>
      <tr><td class="descn"></td><td class="lbl"><a href="Experimental.AI.NavMeshQuery.UpdateFindPath.html">UpdateFindPath</a></td><td class="desc"></td><td class="desc1">Continues a path search that is in progress.</td></tr>
    </table></div></div></div></div></body></html>