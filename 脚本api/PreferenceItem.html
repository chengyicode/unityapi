<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <link href="./css/stylesheet.css" rel="stylesheet" type="text/css"><title>Unity - Scripting API: PreferenceItem</title></head> <body> <div class="content"><div class="section"><div class="mb20 clear" id=""><div class="message message-error mb20"><b>Method group is Obsolete</b><br /></div><h1 class="heading inherit">PreferenceItem</h1><div class="clear"></div><p class="cl mb0 left mr10">class in
          UnityEditor</p><p class="cl mb0 left mr10">/</p><p class="cl mb0 left">Implemented in:<a href="UnityEditor.html" class="cl">UnityEditor</a></p><div class="clear"></div><div class="suggest"><div class="suggest-wrap rel hide"><div class="loading hide"><div></div><div></div><div></div></div></div></div><a href="" class="switch-link gray-btn sbtn left hide"></a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span></div></div></div><div class="subsection"><h2>Description   描述</h2><p>(Obsolete: use the SettingsProvider class instead) The PreferenceItem attribute allows you to add preferences sections to the Preferences window.</p></div><div class="subsection"><p>The PreferenceItem attribute turns any static function into an OnGUI callback. Only static functions can use the PreferenceItem attribute. By default all current PreferenceItems are included in the Unified Settings window and you get a warning to use the SettingsProvider attribute instead.</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;<br /><br />
public class ExampleScript : <a href="MonoBehaviour.html">MonoBehaviour</a>
{
    // Have we loaded the prefs yet
    private static bool prefsLoaded = false;<br /><br />    // The Preferences
    public static bool boolPreference = false;<br /><br />    // Add preferences section named "My Preferences" to the Preferences window
    [PreferenceItem("My Preferences")]
    public static void PreferencesGUI()
    {
        // Load the preferences
        if (!prefsLoaded)
        {
            boolPreference = <a href="EditorPrefs.GetBool.html">EditorPrefs.GetBool</a>("BoolPreferenceKey", false);
            prefsLoaded = true;
        }<br /><br />        // Preferences <a href="GUI.html">GUI</a>
        boolPreference = <a href="EditorGUILayout.Toggle.html">EditorGUILayout.Toggle</a>("Bool Preference", boolPreference);<br /><br />        // Save the preferences
        if (<a href="GUI-changed.html">GUI.changed</a>)
            <a href="EditorPrefs.SetBool.html">EditorPrefs.SetBool</a>("BoolPreferenceKey", boolPreference);
    }
}
</pre>
      </div></div></div></div></body></html>