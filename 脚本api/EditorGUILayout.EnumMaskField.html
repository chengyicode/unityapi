<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <link href="./css/stylesheet.css" rel="stylesheet" type="text/css"><title>Unity - Scripting API: EditorGUILayout.EnumMaskField</title></head> <body> <div class="content"><div class="section"><div class="mb20 clear" id=""><div class="message message-error mb20"><b>Method group is Obsolete</b><br /></div><h1 class="heading inherit"><a href="EditorGUILayout.html">EditorGUILayout</a>.EnumMaskField</h1><div class="clear"></div><div class="clear"></div><div class="suggest"><div class="suggest-wrap rel hide"><div class="loading hide"><div></div><div></div><div></div></div></div></div><a href="" class="switch-link gray-btn sbtn left hide"></a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(<a href="GUIContent.html">GUIContent</a> <span class="sig-kw">label</span>,
Enum <span class="sig-kw">enumValue</span>,
<a href="GUIStyle.html">GUIStyle</a> <span class="sig-kw">style</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(string <span class="sig-kw">label</span>,
Enum <span class="sig-kw">enumValue</span>,
<a href="GUIStyle.html">GUIStyle</a> <span class="sig-kw">style</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(<a href="GUIContent.html">GUIContent</a> <span class="sig-kw">label</span>,
Enum <span class="sig-kw">enumValue</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(string <span class="sig-kw">label</span>,
Enum <span class="sig-kw">enumValue</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(Enum <span class="sig-kw">enumValue</span>,
<a href="GUIStyle.html">GUIStyle</a> <span class="sig-kw">style</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div><div class="signature-CS sig-block"><span style="color:red;">Obsolete </span>public static Enum <span class="sig-kw">EnumMaskField</span>(Enum <span class="sig-kw">enumValue</span>,
params GUILayoutOption[] <span class="sig-kw">options</span>);
    </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">label</td><td class="desc"></td><td class="desc1">Prefix label for this field.</td></tr><tr><td class="name lbl">enumValue</td><td class="desc"></td><td class="desc1">Enum to use for the flags.</td></tr><tr><td class="name lbl">style</td><td class="desc"></td><td class="desc1">Optional <a href="GUIStyle.html">GUIStyle</a>.</td></tr><tr><td class="name lbl">options</td><td class="desc"></td><td class="desc1">An optional list of layout options that specify extra layout properties. Any values passed in here will override settings defined by the <code class="varname">style</code>.<br />
See Also: <a href="GUILayout.Width.html">GUILayout.Width</a>, <a href="GUILayout.Height.html">GUILayout.Height</a>, <a href="GUILayout.MinWidth.html">GUILayout.MinWidth</a>, <a href="GUILayout.MaxWidth.html">GUILayout.MaxWidth</a>, <a href="GUILayout.MinHeight.html">GUILayout.MinHeight</a>,
<a href="GUILayout.MaxHeight.html">GUILayout.MaxHeight</a>, <a href="GUILayout.ExpandWidth.html">GUILayout.ExpandWidth</a>, <a href="GUILayout.ExpandHeight.html">GUILayout.ExpandHeight</a>.</td></tr></table></div><div class="subsection"><h2>Returns</h2><p><strong>Enum</strong>
        The value modified by the user.
      </p></div><div class="subsection"><h2>Description   描述</h2><p>This method is obsolete. Use <a href="EditorGUILayout.EnumFlagsField.html">EditorGUILayout.EnumFlagsField</a> instead.<br /><br />Make a field for enum based masks.</p></div><div class="subsection"><p>See Also: <a href="EditorGUILayout.EnumFlagsField.html">EditorGUILayout.EnumFlagsField</a>.<br /><br /><img src="../StaticFiles/ScriptRefImages/MaskField.png" /><br />
<em>Simple window that shows the enum mask field.</em>
Here is an example of how to implement an EnumMaskField, giving three options:</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;<br /><br />public class EditorEnumExample : <a href="EditorWindow.html">EditorWindow</a>
{
    public enum Example
    {
        Option_One = 1, //bits: 0000 0001
        Option_Two = 2,  //bits: 0000 0010
        Option_Three = 4     //bits: 0000 0100
    }<br /><br />    Example   staticFlagMask = 0;<br /><br />
    [<a href="MenuItem.html">MenuItem</a>("Examples/Mask Field Usage")]
    static void Init()
    {
        // Get existing open window or if none, make a new one:
        EditorEnumExample window = (EditorEnumExample)<a href="EditorWindow.GetWindow.html">EditorWindow.GetWindow</a>(typeof(EditorEnumExample));
        window.Show();
    }<br /><br />    void OnGUI()
    {
        staticFlagMask = (Example)EditorGUILayout.EnumMaskField("Static Flags", staticFlagMask);
    }
}
</pre>
      </div><div class="subsection"><p>Internally, Unity stores the enum as an int, with each value as a bitmask. Selecting "Nothing" clears all bits, resulting in an integer value of 0; selecting "Everything" will set all bits, producing an integer value of -1.<br /><br />To determine whether a particular enum value has been set, you can either treat the enum as an int and perform a bitwise OR to test, or you can unset the "Everything" value by iterating through the enum values and reconstructing the enum accordingly. An example of how to do this is shown below:</p></div><div class="subsection">
        
        <pre class="codeExampleCS">
using UnityEngine;
using <a href="UnityEditor.html">UnityEditor</a>;<br /><br />public class EditorEnumExample : <a href="EditorWindow.html">EditorWindow</a>
{
    public enum Example
    {
        Option_One = 1, //bits: 0000 0001
        Option_Two = 2,  //bits: 0000 0010
        Option_Three = 4     //bits: 0000 0100
    }<br /><br />    Example   staticFlagMask = 0;<br /><br />
    [<a href="MenuItem.html">MenuItem</a>("Examples/Mask Field Usage")]
    static void Init()
    {
        // Get existing open window or if none, make a new one:
        EditorEnumExample window = (EditorEnumExample)<a href="EditorWindow.GetWindow.html">EditorWindow.GetWindow</a>(typeof(EditorEnumExample));
        window.Show();
    }<br /><br />    void OnGUI()
    {
        staticFlagMask = (Example)EditorGUILayout.EnumMaskField("Static Flags", staticFlagMask);<br /><br />        // If "Everything" is set, force Unity to unset the extra bits by iterating through them
        if ((int)staticFlagMask &lt; 0)
        {
            int bits = 0;
            foreach (var enumValue in System.Enum.GetValues(typeof(Example)))
            {
                int checkBit = (int)staticFlagMask &amp; (int)enumValue;
                if (checkBit != 0)
                    bits |= (int)enumValue;
            }<br /><br />            staticFlagMask = (Example)bits;
        }
    }
}
</pre>
      </div></div></div></div></body></html>