<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <link href="./css/stylesheet.css" rel="stylesheet" type="text/css"><title>Unity - Scripting API: Networking.DownloadHandlerScript.DownloadHandlerScript</title></head> <body> <div class="content"><div class="section"><div class="mb20 clear" id=""><h1 class="heading inherit">DownloadHandlerScript Constructor</h1><div class="clear"></div><div class="clear"></div><div class="suggest"><div class="suggest-wrap rel hide"><div class="loading hide"><div></div><div></div><div></div></div></div></div><a href="" class="switch-link gray-btn sbtn left hide"></a><div class="clear"></div></div><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public <span class="sig-kw">DownloadHandlerScript</span>();
    </div></div></div><div class="subsection"><h2>Description   描述</h2><p>Create a DownloadHandlerScript which allocates new buffers when passing data to callbacks.</p></div><div class="subsection"><p>This default constructor places this DownloadHanderScript into <em>non-preallocated mode</em>. This affects the operation of the ReceiveData callback.<br /><br />When in non-preallocated mode, a new managed byte array will be allocated each time ReceiveData is called, and the length of the array passed to ReceiveData will always be equal to the number of new bytes available for consumption.<br /><br />This is convenient, but may cause undesirable garbage collection. If your use case requires an implementation which avoids unnecessary garbage collection, use preallocated mode instead.</p></div><hr class="section" /><div class="subsection"><div class="signature"><div class="signature-CS sig-block"><span style="color:red;"></span>public <span class="sig-kw">DownloadHandlerScript</span>(byte[] <span class="sig-kw">preallocatedBuffer</span>);
    </div></div></div><div class="subsection"><h2>Parameters</h2><table class="list"><tr><td class="name lbl">preallocatedBuffer</td><td class="desc"></td><td class="desc1">A byte buffer into which data will be copied, for use by <a href="Networking.DownloadHandler.ReceiveData.html">DownloadHandler.ReceiveData</a>.</td></tr></table></div><div class="subsection"><h2>Description   描述</h2><p>Create a DownloadHandlerScript which reuses a preallocated buffer to pass data to callbacks.</p></div><div class="subsection"><p>This constructor places this <a href="Networking.DownloadHandlerScript.html">DownloadHandlerScript</a> into <em>preallocated mode</em>. This affects the operation of the <a href="Networking.DownloadHandler.ReceiveData.html">DownloadHandler.ReceiveData</a> callback.<br /><br />When in preallocated mode, the <code class="varname">preallocatedBuffer</code> byte array will be repeatedly reused to pass data to the <a href="Networking.DownloadHandler.ReceiveData.html">DownloadHandler.ReceiveData</a> callback, instead of allocating new buffers each time. The system will not zero-out the array between uses, so the <code class="varname">dataLength</code> argument to <a href="Networking.DownloadHandler.ReceiveData.html">DownloadHandler.ReceiveData</a> must be used to discover which bytes are new.<br /><br />When in this mode, the <a href="Networking.DownloadHandlerScript.html">DownloadHandlerScript</a> will not allocate any memory during the download or processing of HTTP response data. If your use case is sensitive to garbage collection, usage of preallocated mode is recommended.</p></div></div></div></div></body></html>